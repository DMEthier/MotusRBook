[
["index.html", "R for Motus A walk through the use of R for Motus automated radio-telemetry data", " R for Motus Tara L. Crewe and Zoe Crysler 2017-10-12 A walk through the use of R for Motus automated radio-telemetry data Our goal with this online ‘handbook’ is to show Motus (https://motus.org) users how to use the Motus R package (https://github.com/jbrzusto/motus), along with other stand-alone R packages (e.g., ggplot2), to import tag detection data for their project or receiver; explore their data through visualizations and summaries; transform their data, e.g., by determining time since sunrise/sunset or magnetic declination; and to run various analytical procedures. This book therefore goes beyond simply highlighting the functionalities of the Motus R package - it also shows users, who may not be experts in R, to use additional R packages to do basic summaries and plots. We hope the contents will be of use, and if you have suggestions for additional examples, please let us know by emailing motus@birdscanada.org. "],
["introduction.html", "1 Introduction 1.1 What this book does not cover 1.2 Prerequisites 1.3 How this book is organized 1.4 Sample dataset 1.5 Acknowledgements", " 1 Introduction The Motus Wildlife Tracking System (‘Motus’; Taylor et al. 2017; https://www.motus.org) is an international, collaborative automated radio-telemetry network that is used to track the movement and behaviour of primarily small flying organisms affixed with digitally encoded radio-transmitters. Motus has its roots in the SensorGnome network piloted in 2012-2013. In 2014, a major infrastructure expansion was made possible through a Canada Foundation for Innovation grant to Western University, The University of Guelph, and Acadia University. Since then, Motus has continued to grow through the collaboration of independent researchers and organizations https://motus.org/about/, and is now managed as a program of Bird Studies Canada (https://www.birdscanada.org) in partnership with Acadia University. Motus is unique among automated telemetry arrays in that all researchers in a geographic region (e.g., the Americas or Europe) use a shared radio frequency. This allows tagged animals to be detected by any receiving station across the network, greatly broadening the spatial scope of potential research questions. Motus users also use a shared data infrastructure and web portal: all data collected from across the network are centrally stored and archived, which allows users to access detections of their tags by anyone’s receiver in the network, and individuals that maintain receivers have access to all detections of anyone’s tags on those receivers. Having a shared data infrastructure also means that users can benefit from R functions written specifically for Motus data by any and all users. A Motus R package is in continual development, and the intent of this online ‘handbook’ is to help users learn how the various functionalities of the package, and additional R packages like ggplot, can be used to retrieve tag detections, explore, visualize, transform, and analyze Motus data. The content of the handbook will continue to evolve and grow along with the analytical needs of the network. Those interested in contributing code to the Motus R package or this handbook can send proposed additions to Tara Crewe (tcrewe@birdscanada.org) or Zoe Crysler (zcrysler@birdscanada.org) (??). Taylor, P. D., T. L. Crewe, S. A. Mackenzie, D. Lepage, Y. Aubry, Z. Crysler, G. Finney, C. M. Francis, C. G. Guglielmo, D. J. Hamilton, R. L. Holberton, P. H. Loring, G. W. Mitchell, D. R. Noriis, J. Paquet, R. A. Ronconi, J. Smetzer, P. A. Smith, L. J. Welch, and B. K. Woodworth. 2017. The Motus Wildlife Tracking System: a collaborative research network to enhance the understanding of wildlife movement. Avian Conservation and Ecology 12(1):8. https://doi.org/10.5751/ACE-00953-120108. 1.1 What this book does not cover This book does not currently cover how to register radio tags with Motus, manage tags and station deployments, upload data, and so on. Information to guide you through those tasks can be found under the ‘resources’ tab on the Motus website at https://motus.org/resources/. Please remember to register your tags and enter tag and station metadata with Motus prior to deploying your tags. Please also see https://motus.org/policy/ to review our collaboration policy and tag registration and fee schedule. 1.2 Prerequisites This book assumes that you have a basic understanding of R. If you are new to R, we highly recommend ‘R for Data Science’ by Garrett Grolemund and Hadley Wickham (http://r4ds.had.co.nz/), which covers how to import, visualize, and summarize data in R using the Tidyverse collection of R packages https://www.tidyverse.org/. It also provides useful tips for organizing your workflow to create clean, reproducible code (http://r4ds.had.co.nz/workflow-projects.html). We follow their lead by using Tidyverse throughout this book, and where possible within the package functions. 1.3 How this book is organized Each section of this book will begin with a paragraph or figure describing the broader intention or outcome of the section, followed by details on how to get there using R. For example, the section on accessing and downloading tag detection data begins with a screenshot of the structure of a dataframe, followed by the R code required to access the data. 1.4 Sample dataset Throughout this book we use a subset of data from the James Bay Shorebird Project to illustrate how to access, manage, and analyze Motus data in R. The James Bay Shorebird Project conducts monitoring and research on shorebirds staging along the James Bay coast, and is a collaborating effort among the Ontario Ministry of Natural Resources and Forestry, Bird Studies Canada, Trent University, and Environment and Climate Change Canada’s Canadian Wildlife Service, in conjunction with a larger conservation initiative involving James Bay first nations and Nature Canada. The Royal Ontario Museum was a contributing partner until 2016. The goals of the project are to 1) improve our ability to estimate indices of abundance and population trends for shorebird species staging along the western James Bay coast, 2) understand movement patterns and their causes, and 3) identify the relative importance of shorebird staging sites and their habitats. Collectively, this information will aid in the development of conservation measures for Red Knot and other shorebird species through habitat protection like Western Hemisphere Shorebird Reserve Network (WHSRN) designation. More information can be viewed on the James Bay Shorebird Project website at https://www.jamesbayshorebirdproject.com/, on Facebook https://www.facebook.com/jamesbayshorebirdproject/, or by contacting their project lead: Christian Friis Wildlife Biologist Canadian Wildlife Service Environment and Climate Change Canada / Government of Canada christian.friis@canada.ca / Tel: 416.739.4908 biologiste de la faune Service canadien de la faune Environnement et Changement Climatique Canada / Gouvernement du Canada christian.friis@canada.ca / Tél. : 416.739.4908 1.5 Acknowledgements Some of the text included in this book was adapted from John Brzustowski’s github repository for the Motus R package at: https://github.com/jbrzusto/motus. Motus was conceived as the SensorGnome network by Philip Taylor and John Brzustowski at Acadia University. Initial expansion of the network was supported by a Canada Foundation for Innovation Grant to Western University (Christopher Guglielmo), The University of Guelph (D. Ryan Norris), and Acadia University (Philip Taylor). The development of the Motus web interface, R package, and accompanying handbook were made possible through a Canarie grant to Bird Studies Canada (https://www.canarie.ca/). Motus continues to grow as a program of Bird Studies Canada, through the collaboration of numerous independent researchers, organizations, and individuals. A non-exhaustive list of Motus partners and collaborators can be found at https://motus.org/data/partners.jsp. If your organization is not listed, please contact motus@birdscanada.org. Many people have worked together to bring Motus technology, the web interface, and R-package together. The core ‘Motus Team’ includes John Brzustowski, Zoe Crysler, Tara Crewe, Jeremy Hussell, Catherine Jardine, Denis Lepage, Stuart Mackenzie, Paul Morrill, and Philip Taylor. "],
["loading-the-motus-r-package.html", "2 Loading the Motus R Package 2.1 User Authentication 2.2 Internal data processing", " 2 Loading the Motus R Package Motus users can install the latest stable version of the Motus R package using the following code. You only need to install the packages once, but once installed, you do need to load each package (using library() or require()) each time you open a new R session. Please note that some functionalities of the devtools package may require updated versions of R and RStudio. To avoid errors, please ensure you are using the most recent releases of R (https://www.r-project.org/) and RStudio (https://www.rstudio.com/products/RStudio/), and update your R packages using update.pacakges() in the R console. update.packages() ## to update your existing R packages install.packages(&quot;devtools&quot;) ## if you haven&#39;t already done this library(devtools) ## load devtools install_github(&quot;jbrzusto/motus@master&quot;) ## the last stable version library(motus) For developers, the ‘staging’ branch is for work-in-progress. Install it with: install.packages(&quot;devtools&quot;) ## if you haven&#39;t already done this library(devtools) install_github(&quot;jbrzusto/motus@staging&quot;) ## the development version library(motus) Throughout the book, we use Tidyverse https://www.tidyverse.org/, which is a collection of R packages, including tidyr() and dplyr(). These can be installed with: install.packages(&quot;tidyverse&quot;) ## again, you only need to install once. library(tidyverse) More information on Tidyverse can be found at https://www.tidyverse.org/, or by browsing ‘R for Data Science’ by Garrett Grolemund and Hadley Wickham: http://r4ds.had.co.nz/. 2.1 User Authentication The first time you call a function using the Motus R package, you will be asked for your motus.org username and password to authenticate your access to project data. This will only happen once per R session. If you do not have a Motus user name and password, you can sign up at https://motus.org/data/user/new. Permission to access project data will then be granted by Motus staff or the project principal investigator. 2.2 Internal data processing As an animal moves within the detection range of a Motus station, radio transmissions, or ‘bursts’, are detected by antenna(s) and recorded by a receiver. These raw detection data are either uploaded to the Motus database instantaneously via internet connection, or downloaded from the receiver and uploaded to Motus manually. Behind the scenes, various functions read and process the raw detections data to produce the tag detections file that users access using the R package (see ‘Data Import’ below). While most users will not need to call on the internal data processing functions, a complete list of functions within the Motus server R package can be found on GitHub: https://github.com/jbrzusto/motusServer. The code behind each function can be viewed on GitHub, or by typing the following in the R console after loading the R package, replacing ‘function.name’ with the name of the R function of interest: function.name() "],
["accessing-and-understanding-detections-data.html", "3 Accessing and understanding detections data 3.1 Database types 3.2 Load relevant R packages 3.3 Importing tag detections 3.4 Data structure", " 3 Accessing and understanding detections data It’s important to note that the success of the Motus network is dependent on the timely upload of detection data from receivers, and on the maintenance of accurate and up to date tag and receiver metadata by collaborators. Users are encouraged to check for updated detection data and metadata each time they run an analysis, because collaborators can add detection data and metadata at any time, and these could influence the completeness of your own detections data. 3.1 Database types There are two types of tag databases: receiver database: includes all detections of any registered tags from a single receiver. A receiver database has a name like SG-1234BBBK5678.motus; where the name is the serial number of the receiver. project database: includes all detections of your registered tags from across the motus network. A tag project database has a name like project-123.motus, where the number is the motus project ID. These two databases correspond to the basic model of data sharing: you get all detections of anyone’s tags by your receivers (i.e., one receiver tag database for each receiver you deploy) you get all detections of your tags by anyone’s receivers (i.e., one project tag database for each of your motus projects) 3.2 Load relevant R packages 3.3 Importing tag detections Your project’s .motus file is available for download at https://motus.org/data/downloads under your project profile. Once downloaded, make sure that you have the appropriate packages installed and loaded in R as outlined in Chapter 2-LoadingPackage. Once packages are loaded, you can import your tag detections into R using the following code: file.name &lt;- &quot;./data/project-8.motus&quot; ## replace with the full location of your project data t &lt;- dplyr::src_sqlite(file.name) 3.4 Data structure Your tag database is stored as an SQLite (‘dplyr::src_sqlite’) file with the extension ‘.motus’. The sqlite format was chosen because: it is flexible, allowing for many data formats. it is accessible from many software platforms (not just R). it is appendable: the database can be created and updated on disk without having to read in and resave the entire contents. This will save time and computer memory when searching to see if any new detections are available for your project or receiver. The .motus file contains a series of interelated tables where data are stored in a condensed format to save memory. The following tables are included in the .motus file; a complete list of parameters stored in each table can be found in Appendix Table A1: hits: detections data at the level of individual hits. runs: detections data associated with a run (continuous detections of a unique tag on a given receiver). batches: detections data for a given receiver and boot number. tags: metadata related to tags, e.g., unique identifier, tag characteristics (e.g., burst interval). tagDeps: metadata related to tag deployments, e.g., deployment date, location, and species. recvDeps: metadata related to receiver deployments, e.g., deployment date, location, receiver characteristics. antDeps: metadata related to antenna deployments, e.g., deployment height, angle, antenna type. species: metadata related to species, e.g., unique identifier, scientific name, common name. projs: metadata related to projects, e.g., project name, principal investigator. gps: metadata related to Geographic Positioning System (GPS) position of receiver. Because the file is a dplyr::src_sqlite file, all of the dplyr functions can be used to filter and summarize your .motus database, without needing to first save the data as a flat file, i.e., a typical two-dimensional dataframe with every record for each field filled in. You can access each table in the .motus file using the tbl() function: # tag hits hits &lt;- tbl(t, &quot;hits&quot;) head(hits) # to see the first 6 rows of the table ## # Source: lazy query [?? x 11] ## # Database: sqlite 3.19.3 ## # [F:\\Motus\\Motus_RPackage\\MotusRBook\\data\\project-8.motus] ## hitID runID batchID ts sig sigSD noise freq freqSD ## &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; ## 1 111271 9939 6 1376506387 -77.1754 13.8101 -86.2537 4.5027 0.0155 ## 2 111272 9939 6 1376506446 -73.1833 37.1073 -86.4007 4.5000 0.0045 ## 3 111273 9939 6 1376506452 -73.2568 5.9520 -86.6243 4.5118 0.0050 ## 4 111274 9939 6 1376506505 -71.7469 33.0531 -86.5210 4.4960 0.0053 ## 5 111275 9939 6 1376506511 -71.2332 13.2288 -86.4900 4.5005 0.0081 ## 6 111276 9939 6 1376506564 -69.9040 33.1407 -86.3431 4.4967 0.0060 ## # ... with 2 more variables: slop &lt;dbl&gt;, burstSlop &lt;dbl&gt; hits$ops$vars # list of variables in the table ## [1] &quot;hitID&quot; &quot;runID&quot; &quot;batchID&quot; &quot;ts&quot; &quot;sig&quot; ## [6] &quot;sigSD&quot; &quot;noise&quot; &quot;freq&quot; &quot;freqSD&quot; &quot;slop&quot; ## [11] &quot;burstSlop&quot; # tag deployment metadata tagMeta &lt;- tbl(t, &quot;tagDeps&quot;) head(tagMeta) ## # Source: lazy query [?? x 19] ## # Database: sqlite 3.19.3 ## # [F:\\Motus\\Motus_RPackage\\MotusRBook\\data\\project-8.motus] ## deployID tagID projectID status tsStart tsEnd deferSec speciesID ## &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;chr&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;int&gt; &lt;int&gt; ## 1 1243 17382 8 &lt;NA&gt; 1376982000 1381815586 0 4690 ## 2 1244 17383 8 &lt;NA&gt; 1376982000 1381815808 0 4690 ## 3 1245 17384 8 &lt;NA&gt; 1376982000 1381815863 0 4690 ## 4 1246 17385 8 &lt;NA&gt; 1376982000 1381870868 0 4690 ## 5 1247 17386 8 &lt;NA&gt; 1376982000 1381870923 0 4690 ## 6 1248 17387 8 &lt;NA&gt; 1376982000 1381870923 0 4690 ## # ... with 11 more variables: markerNumber &lt;chr&gt;, markerType &lt;chr&gt;, ## # latitude &lt;dbl&gt;, longitude &lt;dbl&gt;, elevation &lt;dbl&gt;, comments &lt;chr&gt;, ## # id &lt;int&gt;, bi &lt;dbl&gt;, tsStartCode &lt;int&gt;, tsEndCode &lt;int&gt;, fullID &lt;chr&gt; tagMeta$ops$vars ## [1] &quot;deployID&quot; &quot;tagID&quot; &quot;projectID&quot; &quot;status&quot; ## [5] &quot;tsStart&quot; &quot;tsEnd&quot; &quot;deferSec&quot; &quot;speciesID&quot; ## [9] &quot;markerNumber&quot; &quot;markerType&quot; &quot;latitude&quot; &quot;longitude&quot; ## [13] &quot;elevation&quot; &quot;comments&quot; &quot;id&quot; &quot;bi&quot; ## [17] &quot;tsStartCode&quot; &quot;tsEndCode&quot; &quot;fullID&quot; # receiver deployment metadata recvMeta &lt;- tbl(t, &quot;recvDeps&quot;) head(recvMeta) ## # Source: lazy query [?? x 15] ## # Database: sqlite 3.19.3 ## # [F:\\Motus\\Motus_RPackage\\MotusRBook\\data\\project-8.motus] ## deployID serno receiverType deviceID macAddress status ## &lt;int&gt; &lt;chr&gt; &lt;chr&gt; &lt;int&gt; &lt;chr&gt; &lt;chr&gt; ## 1 935 SG-0613BB000613 SENSORGNOME 547 &lt;NA&gt; deployed ## 2 936 SG-0613BB000613 SENSORGNOME 547 &lt;NA&gt; deployed ## 3 954 SG-1013BB000626 SENSORGNOME 563 &lt;NA&gt; deployed ## 4 1573 SG-1013BB000626 SENSORGNOME 563 &lt;NA&gt; deployed ## 5 3351 SG-1013BB000626 SENSORGNOME 563 &lt;NA&gt; deployed ## 6 3352 SG-0613BB000613 SENSORGNOME 547 &lt;NA&gt; deployed ## # ... with 9 more variables: name &lt;chr&gt;, fixtureType &lt;chr&gt;, ## # latitude &lt;dbl&gt;, longitude &lt;dbl&gt;, isMobile &lt;int&gt;, tsStart &lt;dbl&gt;, ## # tsEnd &lt;dbl&gt;, projectID &lt;int&gt;, elevation &lt;dbl&gt; recvMeta$ops$vars ## [1] &quot;deployID&quot; &quot;serno&quot; &quot;receiverType&quot; &quot;deviceID&quot; ## [5] &quot;macAddress&quot; &quot;status&quot; &quot;name&quot; &quot;fixtureType&quot; ## [9] &quot;latitude&quot; &quot;longitude&quot; &quot;isMobile&quot; &quot;tsStart&quot; ## [13] &quot;tsEnd&quot; &quot;projectID&quot; &quot;elevation&quot; # antenna deployment metadata antMeta &lt;- tbl(t, &quot;antDeps&quot;) head(antMeta) ## # Source: lazy query [?? x 11] ## # Database: sqlite 3.19.3 ## # [F:\\Motus\\Motus_RPackage\\MotusRBook\\data\\project-8.motus] ## deployID port antennaType bearing heightMeters cableLengthMeters ## &lt;int&gt; &lt;int&gt; &lt;chr&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; ## 1 935 2 yagi-9 212 NA NA ## 2 935 3 yagi-9 168 NA NA ## 3 935 4 yagi-9 260 NA NA ## 4 936 1 yagi-9 191 NA NA ## 5 3352 1 yagi-9 294 52 NA ## 6 3352 2 yagi-9 360 53 NA ## # ... with 5 more variables: cableType &lt;chr&gt;, mountDistanceMeters &lt;dbl&gt;, ## # mountBearing &lt;dbl&gt;, polarization2 &lt;dbl&gt;, polarization1 &lt;dbl&gt; antMeta$ops$vars ## [1] &quot;deployID&quot; &quot;port&quot; &quot;antennaType&quot; ## [4] &quot;bearing&quot; &quot;heightMeters&quot; &quot;cableLengthMeters&quot; ## [7] &quot;cableType&quot; &quot;mountDistanceMeters&quot; &quot;mountBearing&quot; ## [10] &quot;polarization2&quot; &quot;polarization1&quot; # species metadata spMeta &lt;- tbl(t, &quot;species&quot;) head(spMeta) ## # Source: lazy query [?? x 6] ## # Database: sqlite 3.19.3 ## # [F:\\Motus\\Motus_RPackage\\MotusRBook\\data\\project-8.motus] ## id english french ## &lt;int&gt; &lt;chr&gt; &lt;chr&gt; ## 1 4180 Semipalmated Plover Pluvier semipalmÃ© ## 2 4690 Semipalmated Sandpiper BÃ©casseau semipalmÃ© ## 3 4750 Least Sandpiper BÃ©casseau minuscule ## # ... with 3 more variables: scientific &lt;chr&gt;, group &lt;chr&gt;, sort &lt;int&gt; spMeta$ops$vars ## [1] &quot;id&quot; &quot;english&quot; &quot;french&quot; &quot;scientific&quot; &quot;group&quot; ## [6] &quot;sort&quot; # receiver GPS metadata gpsMeta &lt;- tbl(t, &quot;gps&quot;) head(gpsMeta) ## # Source: lazy query [?? x 6] ## # Database: sqlite 3.19.3 ## # [F:\\Motus\\Motus_RPackage\\MotusRBook\\data\\project-8.motus] ## batchID ts gpsts lat lon alt ## &lt;int&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; ## 1 11 1408394790 NA 44.5431 -67.7528 14.7 ## 2 11 1408398390 NA 44.5432 -67.7528 16.5 ## 3 11 1408401990 NA 44.5431 -67.7528 16.0 ## 4 11 1408405590 NA 44.5431 -67.7528 17.3 ## 5 11 1408409190 NA 44.5432 -67.7528 20.9 ## 6 11 1408412790 NA 44.5431 -67.7528 12.2 gpsMeta$ops$vars ## [1] &quot;batchID&quot; &quot;ts&quot; &quot;gpsts&quot; &quot;lat&quot; &quot;lon&quot; &quot;alt&quot; If you look at the underlying structure of these tables using str(), you will see that each is a list of length 2: str(tagMeta) ## List of 2 ## $ src:List of 2 ## ..$ con :Formal class &#39;SQLiteConnection&#39; [package &quot;RSQLite&quot;] with 6 slots ## .. .. ..@ ptr :&lt;externalptr&gt; ## .. .. ..@ dbname : chr &quot;F:\\\\Motus\\\\Motus_RPackage\\\\MotusRBook\\\\data\\\\project-8.motus&quot; ## .. .. ..@ loadable.extensions: logi TRUE ## .. .. ..@ flags : int 70 ## .. .. ..@ vfs : chr &quot;&quot; ## .. .. ..@ ref :&lt;environment: 0x00000000062eb448&gt; ## ..$ disco:&lt;environment: 0x000000000d08ba80&gt; ## ..- attr(*, &quot;class&quot;)= chr [1:3] &quot;src_dbi&quot; &quot;src_sql&quot; &quot;src&quot; ## $ ops:List of 2 ## ..$ x :Classes &#39;ident&#39;, &#39;character&#39; chr &quot;tagDeps&quot; ## ..$ vars: chr [1:19] &quot;deployID&quot; &quot;tagID&quot; &quot;projectID&quot; &quot;status&quot; ... ## ..- attr(*, &quot;class&quot;)= chr [1:3] &quot;op_base_remote&quot; &quot;op_base&quot; &quot;op&quot; ## - attr(*, &quot;class&quot;)= chr [1:4] &quot;tbl_dbi&quot; &quot;tbl_sql&quot; &quot;tbl_lazy&quot; &quot;tbl&quot; The first part of the list, ‘src’, is a list that provides details of the SQLiteConnection, which includes information on where the database is stored. The second part of the list, ‘ops’, is also a list, and includes the names of the variables (‘tagMeta\\(ops\\)vars’) included in the table. In other words, in its current form, the R object ‘tagMeta’ does not hold the data itself (i.e., it is a virtual table); rather, it includes the database structure and information required to connect to the underlying data in the .motus file. As stated above, the advantage of storing the data in this way is that it saves memory when accessing very large databases, and the dplyr package can be used to manipulate and summarize the tables before collecting the results into a typical “flat” format dataframe. For your convienience, the virtual table ‘alltags’ contains all fields that most users will need from the various .motus tables, and can also be accessed using the dplyr tbl() function: df &lt;- tbl(t, &quot;alltags&quot;) The following table lists the parameters available in the ‘alltags’ table, along with a description of each parameter. Table 3.1: Description of fields in the tag detections database Field Description hitID unique Motus ID for this tag detection runID unique Motus ID for the run this detection belongs to batchID unique Motus ID for the processing batch this detection came from ts timestamp, in seconds since 1 Jan, 1970 GMT; precision: 0.1 ms (SG); 2.5 ms (Lotek). sig signal strength in “native units”; for SG: dB (max) (logarithmic, 0 = max possible, -10 = 0.1 * max, etc.); for Lotek: raw value (0…255) sigSD std. dev. in signal strength among pulses in this burst. SG Only; NA for Lotek noise estimate of background radio noise when tag detected, in dB (max) for SG; NA for Lotek freq frequency offset from antenna listening frequency, in kHz for SG only; NA for Lote freqSD std. dev. of freq offset among pulses in this burst, in kHz. Values larger than 0.1 kHz suggest a bogus detection. SG only; NA for Lotek. slop total absolute difference (milliseconds) in inter-pulse intervals for this burst between registration and detection. SG only; NA for Lotek burstSlop signed difference (seconds) between detection and registration burst intervals. This is always 0 for the first burst in a run (see posInRun) done logical: is run finished? motusTagID Motus tag ID - unique to each individual tag registered ant antenna code (for sensorgnomes, USB port number; for Lotek, whatever they use, usually numeric, but can be e.g. AH0) runLen number of tag bursts in the current run; constant for all records having the same runID bootnum boot session of receiver for SG; NA for Lotek tagProjectID ID of the project that manages this tag. id manufacturer ID tagType all rows are “ID”?? codeSet for coded tags, the name of the codeset (e.g. ‘Lotek-3’) mfg tag manufacturer tagModel manufacturer’s model name for a tag (e.g. ‘NTQB-3-2’) tagLifespan estimated lifespan of tag (days) nomFreq nominal tag frequency (MOTUS: Nominal frequency receiver was tuned to, in Mhz. This really only applies to SG, where we usually tune 4 kHz below the nominal tag frequency. So in that case, antFreq = 166.376 while nomFreq = 166.380 tagBI burst interval of tag, in seconds (e.g., 5.8984) pulseLen tag pulse length (milliseconds), if applicable. This value is only assigned based on the sample recording of the tag. speciesID unique numeric Motus ID (integer) for the species on which the tag was deployed markerNumber number for any additional marker placed on organism (e.g., bird band #) markerType type of additional marker (e.g. metal band) depLat latitude of tag deployment, in decimal degrees N - negative values for Southern hemisphere depLon longitude of tag deployment, in decimal degrees E - negative values for Western hemisphere depAlt altitude of tag deployment, in meters ASL comments additional comments or unclassified metadata for tag (often in JSON format) startCode integer code giving method for determining tag deployment start timestamp endCode integer code giving method for determining tag deployment end timestamp fullID full tag ID as PROJECT#MFGID:BI@NOMFREQ. Not necessarily unique over time. See motusTagID for a unique tag recv serial number of the receiver; e.g., SG-1234BBBK5678 or Lotek-12345 site name assigned to a site by the project manager (e.g. location name). This field is optional, and the same label can be used for multiple deployments. isMobile logical; whether the sensor is deployed on a mobile platform (eg. a ship) projID unique (numeric) ID of the project that deployed this receiver (e.g., 8) antType character; antenna type, e.g. “9-element Yagi”, “Omni” antBearing numeric; compass direction antenna main axis is pointing at (degrees clockwise from local magnetic North 0-360) antHeight numeric; height (meters) of antenna main axis above ground cableLen numeric; length of coax cable (meters) connecting antenna to funcubedongle radio (optional) cableType type of coax cable connecting antenna to funcubedongle radio (optional) mountDistance numeric; distance (meters) between antenna mounting (axis centre) and receiver GPS; SG only mountBearing numeric; bearing of base of antenna mounting from receiver GPS (degrees clockwise from magnetic north: 0-360); SG only polarization1 numeric; antenna polarization angle: azimuth component (degrees clockwise from local magnetic north) polarization2 numeric; antenna polarization angle: elevation component (degrees above horizon) spEN species English (common) name spFR species French (common) name spSci species scientific name spGroup species group, e.g., BIRDS, BATS tagProj short label of project that deployed the tag, e.g., “HolbSESA” projID short label of project that deployed the receiver lat latitude of receiver GPS location at time of writing the hourly detections file (degrees North) lon longitude of receiver GPS location at time of writing the hourly detections file (degrees East) alt altitude of receiver GPS at time of writing the hourly detections file (meters) 3.4.1 Convert a virtual table to a flat dataframe If you want your entire dataframe in a typical “flat” format, i.e., with every record for each field filled in, you can use the collect() function. The output can then be used to generate a .rds or .csv file of your data. However, we caution that producing such a table using the full suite of fields can chew up a lot of memory, and can slow R down considerably when dealing with large datasets: df.flat &lt;- df %&gt;% collect %&gt;% as.data.frame ## for all fields in the df head(df.flat) ## Look at first 6 rows of your df ## hitID runID batchID ts sig sigsd noise freq freqsd ## 1 111271 9939 6 1376506387 -77.1754 13.8101 -86.2537 4.5027 0.0155 ## 2 111272 9939 6 1376506446 -73.1833 37.1073 -86.4007 4.5000 0.0045 ## 3 111273 9939 6 1376506452 -73.2568 5.9520 -86.6243 4.5118 0.0050 ## 4 111274 9939 6 1376506505 -71.7469 33.0531 -86.5210 4.4960 0.0053 ## 5 111275 9939 6 1376506511 -71.2332 13.2288 -86.4900 4.5005 0.0081 ## 6 111276 9939 6 1376506564 -69.9040 33.1407 -86.3431 4.4967 0.0060 ## slop burstSlop done motusTagID ant runLen bootnum tagProjID id tagType ## 1 0.0012 0.0000 1 17367 2 11 24 8 60 ID ## 2 0.0014 0.0003 1 17367 2 11 24 8 60 ID ## 3 0.0012 0.0011 1 17367 2 11 24 8 60 ID ## 4 0.0016 0.0003 1 17367 2 11 24 8 60 ID ## 5 0.0013 0.0011 1 17367 2 11 24 8 60 ID ## 6 0.0013 0.0002 1 17367 2 11 24 8 60 ID ## codeSet mfg tagModel tagLifespan nomFreq tagBI pulseLen speciesID ## 1 Lotek3 Lotek NTQB-2 NA 166.3 5.8984 2.5 4690 ## 2 Lotek3 Lotek NTQB-2 NA 166.3 5.8984 2.5 4690 ## 3 Lotek3 Lotek NTQB-2 NA 166.3 5.8984 2.5 4690 ## 4 Lotek3 Lotek NTQB-2 NA 166.3 5.8984 2.5 4690 ## 5 Lotek3 Lotek NTQB-2 NA 166.3 5.8984 2.5 4690 ## 6 Lotek3 Lotek NTQB-2 NA 166.3 5.8984 2.5 4690 ## markerNumber markerType depLat depLon depAlt ## 1 131153432 metal band 44.5759 -67.8401 NA ## 2 131153432 metal band 44.5759 -67.8401 NA ## 3 131153432 metal band 44.5759 -67.8401 NA ## 4 131153432 metal band 44.5759 -67.8401 NA ## 5 131153432 metal band 44.5759 -67.8401 NA ## 6 131153432 metal band 44.5759 -67.8401 NA ## comments ## 1 {&quot;ageID&quot;:&quot;AHY&quot;,&quot;bill&quot;:19.2,&quot;blood&quot;:&quot;N&quot;,&quot;country&quot;:&quot;US&quot;,&quot;culmen&quot;:19.2,&quot;locationID&quot;:&quot;MILL RIVER&quot;,&quot;province&quot;:&quot;Maine&quot;,&quot;sexID&quot;:&quot;U&quot;,&quot;tarsus&quot;:21.35,&quot;weight&quot;:28.4,&quot;wing&quot;:98,&quot;comments&quot;:null} ## 2 {&quot;ageID&quot;:&quot;AHY&quot;,&quot;bill&quot;:19.2,&quot;blood&quot;:&quot;N&quot;,&quot;country&quot;:&quot;US&quot;,&quot;culmen&quot;:19.2,&quot;locationID&quot;:&quot;MILL RIVER&quot;,&quot;province&quot;:&quot;Maine&quot;,&quot;sexID&quot;:&quot;U&quot;,&quot;tarsus&quot;:21.35,&quot;weight&quot;:28.4,&quot;wing&quot;:98,&quot;comments&quot;:null} ## 3 {&quot;ageID&quot;:&quot;AHY&quot;,&quot;bill&quot;:19.2,&quot;blood&quot;:&quot;N&quot;,&quot;country&quot;:&quot;US&quot;,&quot;culmen&quot;:19.2,&quot;locationID&quot;:&quot;MILL RIVER&quot;,&quot;province&quot;:&quot;Maine&quot;,&quot;sexID&quot;:&quot;U&quot;,&quot;tarsus&quot;:21.35,&quot;weight&quot;:28.4,&quot;wing&quot;:98,&quot;comments&quot;:null} ## 4 {&quot;ageID&quot;:&quot;AHY&quot;,&quot;bill&quot;:19.2,&quot;blood&quot;:&quot;N&quot;,&quot;country&quot;:&quot;US&quot;,&quot;culmen&quot;:19.2,&quot;locationID&quot;:&quot;MILL RIVER&quot;,&quot;province&quot;:&quot;Maine&quot;,&quot;sexID&quot;:&quot;U&quot;,&quot;tarsus&quot;:21.35,&quot;weight&quot;:28.4,&quot;wing&quot;:98,&quot;comments&quot;:null} ## 5 {&quot;ageID&quot;:&quot;AHY&quot;,&quot;bill&quot;:19.2,&quot;blood&quot;:&quot;N&quot;,&quot;country&quot;:&quot;US&quot;,&quot;culmen&quot;:19.2,&quot;locationID&quot;:&quot;MILL RIVER&quot;,&quot;province&quot;:&quot;Maine&quot;,&quot;sexID&quot;:&quot;U&quot;,&quot;tarsus&quot;:21.35,&quot;weight&quot;:28.4,&quot;wing&quot;:98,&quot;comments&quot;:null} ## 6 {&quot;ageID&quot;:&quot;AHY&quot;,&quot;bill&quot;:19.2,&quot;blood&quot;:&quot;N&quot;,&quot;country&quot;:&quot;US&quot;,&quot;culmen&quot;:19.2,&quot;locationID&quot;:&quot;MILL RIVER&quot;,&quot;province&quot;:&quot;Maine&quot;,&quot;sexID&quot;:&quot;U&quot;,&quot;tarsus&quot;:21.35,&quot;weight&quot;:28.4,&quot;wing&quot;:98,&quot;comments&quot;:null} ## startCode endCode fullID recv site isMobile projID ## 1 NA NA ?proj?-8#60:5.9 SG-1013BB000626 SECO 0 8 ## 2 NA NA ?proj?-8#60:5.9 SG-1013BB000626 SECO 0 8 ## 3 NA NA ?proj?-8#60:5.9 SG-1013BB000626 SECO 0 8 ## 4 NA NA ?proj?-8#60:5.9 SG-1013BB000626 SECO 0 8 ## 5 NA NA ?proj?-8#60:5.9 SG-1013BB000626 SECO 0 8 ## 6 NA NA ?proj?-8#60:5.9 SG-1013BB000626 SECO 0 8 ## antType antBearing antHeight cableLen cableType mountDistance ## 1 &lt;NA&gt; NA NA NA &lt;NA&gt; NA ## 2 &lt;NA&gt; NA NA NA &lt;NA&gt; NA ## 3 &lt;NA&gt; NA NA NA &lt;NA&gt; NA ## 4 &lt;NA&gt; NA NA NA &lt;NA&gt; NA ## 5 &lt;NA&gt; NA NA NA &lt;NA&gt; NA ## 6 &lt;NA&gt; NA NA NA &lt;NA&gt; NA ## mountBearing polarization1 polarization2 spEN ## 1 NA NA NA Semipalmated Sandpiper ## 2 NA NA NA Semipalmated Sandpiper ## 3 NA NA NA Semipalmated Sandpiper ## 4 NA NA NA Semipalmated Sandpiper ## 5 NA NA NA Semipalmated Sandpiper ## 6 NA NA NA Semipalmated Sandpiper ## spFR spSci spGroup tagProj proj lat lon ## 1 BÃ©casseau semipalmÃ© Calidris pusilla BIRDS HolbSESA HolbSESA NA NA ## 2 BÃ©casseau semipalmÃ© Calidris pusilla BIRDS HolbSESA HolbSESA NA NA ## 3 BÃ©casseau semipalmÃ© Calidris pusilla BIRDS HolbSESA HolbSESA NA NA ## 4 BÃ©casseau semipalmÃ© Calidris pusilla BIRDS HolbSESA HolbSESA NA NA ## 5 BÃ©casseau semipalmÃ© Calidris pusilla BIRDS HolbSESA HolbSESA NA NA ## 6 BÃ©casseau semipalmÃ© Calidris pusilla BIRDS HolbSESA HolbSESA NA NA ## alt ## 1 NA ## 2 NA ## 3 NA ## 4 NA ## 5 NA ## 6 NA summary(df.flat) ## summary of each column in your df ## hitID runID batchID ts ## Min. : 111271 Min. : 9939 Min. : 6.00 Min. :1.377e+09 ## 1st Qu.:1040431 1st Qu.:28435 1st Qu.:42.00 1st Qu.:1.409e+09 ## Median :1159076 Median :36693 Median :80.00 Median :1.409e+09 ## Mean : 962936 Mean :33790 Mean :59.92 Mean :1.407e+09 ## 3rd Qu.:1274282 3rd Qu.:44347 3rd Qu.:82.00 3rd Qu.:1.410e+09 ## Max. :1389548 Max. :52450 Max. :90.00 Max. :1.412e+09 ## ## sig sigsd noise freq ## Min. :-80.83 Min. : 0.1085 Min. :-87.99 Min. :0.8088 ## 1st Qu.:-73.41 1st Qu.: 7.8464 1st Qu.:-85.05 1st Qu.:4.1065 ## Median :-67.54 Median : 13.3681 Median :-83.57 Median :4.4722 ## Mean :-66.27 Mean : 17.7302 Mean :-81.40 Mean :4.5620 ## 3rd Qu.:-60.70 3rd Qu.: 22.6841 3rd Qu.:-78.77 3rd Qu.:4.9043 ## Max. :-21.16 Max. :133.1690 Max. :-55.62 Max. :8.5403 ## ## freqsd slop burstSlop done ## Min. :0.00000 Min. :0.000000 Min. :-6.510e-02 Min. :1 ## 1st Qu.:0.00890 1st Qu.:0.000200 1st Qu.:-1.000e-04 1st Qu.:1 ## Median :0.01470 Median :0.000300 Median : 0.000e+00 Median :1 ## Mean :0.02197 Mean :0.000393 Mean : 8.322e-05 Mean :1 ## 3rd Qu.:0.02630 3rd Qu.:0.000400 3rd Qu.: 2.000e-04 3rd Qu.:1 ## Max. :0.27600 Max. :0.005600 Max. : 6.560e-02 Max. :1 ## ## motusTagID ant runLen bootnum ## Min. :10466 Min. :1.000 Min. : 2.0 Min. :20.00 ## 1st Qu.:10472 1st Qu.:2.000 1st Qu.: 15.0 1st Qu.:26.00 ## Median :10486 Median :3.000 Median : 29.0 Median :26.00 ## Mean :10905 Mean :2.604 Mean : 219.7 Mean :26.37 ## 3rd Qu.:10500 3rd Qu.:3.000 3rd Qu.: 63.0 3rd Qu.:26.00 ## Max. :17400 Max. :4.000 Max. :6943.0 Max. :29.00 ## ## tagProjID id tagType codeSet ## Min. :8 Length:450752 Length:450752 Length:450752 ## 1st Qu.:8 Class :character Class :character Class :character ## Median :8 Mode :character Mode :character Mode :character ## Mean :8 ## 3rd Qu.:8 ## Max. :8 ## ## mfg tagModel tagLifespan nomFreq ## Length:450752 Length:450752 Min. : NA Min. :166.3 ## Class :character Class :character 1st Qu.: NA 1st Qu.:166.4 ## Mode :character Mode :character Median : NA Median :166.4 ## Mean :NaN Mean :166.4 ## 3rd Qu.: NA 3rd Qu.:166.4 ## Max. : NA Max. :166.4 ## NA&#39;s :450752 ## tagBI pulseLen speciesID markerNumber ## Min. :5.898 Min. :2.5 Min. :4180 Length:450752 ## 1st Qu.:5.898 1st Qu.:2.5 1st Qu.:4690 Class :character ## Median :6.096 Median :2.5 Median :4690 Mode :character ## Mean :6.249 Mean :2.5 Mean :4689 ## 3rd Qu.:6.697 3rd Qu.:2.5 3rd Qu.:4690 ## Max. :7.097 Max. :2.5 Max. :4750 ## ## markerType depLat depLon depAlt ## Length:450752 Min. :44.52 Min. :-67.84 Min. : NA ## Class :character 1st Qu.:44.52 1st Qu.:-67.77 1st Qu.: NA ## Mode :character Median :44.56 Median :-67.77 Median : NA ## Mean :44.54 Mean :-67.77 Mean :NaN ## 3rd Qu.:44.56 3rd Qu.:-67.76 3rd Qu.: NA ## Max. :44.58 Max. :-67.76 Max. : NA ## NA&#39;s :450752 ## comments startCode endCode fullID ## Length:450752 Min. : NA Min. : NA Length:450752 ## Class :character 1st Qu.: NA 1st Qu.: NA Class :character ## Mode :character Median : NA Median : NA Mode :character ## Mean :NaN Mean :NaN ## 3rd Qu.: NA 3rd Qu.: NA ## Max. : NA Max. : NA ## NA&#39;s :450752 NA&#39;s :450752 ## recv site isMobile projID ## Length:450752 Length:450752 Min. :0 Min. :8 ## Class :character Class :character 1st Qu.:0 1st Qu.:8 ## Mode :character Mode :character Median :0 Median :8 ## Mean :0 Mean :8 ## 3rd Qu.:0 3rd Qu.:8 ## Max. :0 Max. :8 ## ## antType antBearing antHeight cableLen ## Length:450752 Min. :168.0 Min. : NA Min. : NA ## Class :character 1st Qu.:168.0 1st Qu.: NA 1st Qu.: NA ## Mode :character Median :212.0 Median : NA Median : NA ## Mean :223.9 Mean :NaN Mean :NaN ## 3rd Qu.:260.0 3rd Qu.: NA 3rd Qu.: NA ## Max. :350.0 Max. : NA Max. : NA ## NA&#39;s :6303 NA&#39;s :450752 NA&#39;s :450752 ## cableType mountDistance mountBearing polarization1 ## Length:450752 Min. : NA Min. : NA Min. : NA ## Class :character 1st Qu.: NA 1st Qu.: NA 1st Qu.: NA ## Mode :character Median : NA Median : NA Median : NA ## Mean :NaN Mean :NaN Mean :NaN ## 3rd Qu.: NA 3rd Qu.: NA 3rd Qu.: NA ## Max. : NA Max. : NA Max. : NA ## NA&#39;s :450752 NA&#39;s :450752 NA&#39;s :450752 ## polarization2 spEN spFR spSci ## Min. : NA Length:450752 Length:450752 Length:450752 ## 1st Qu.: NA Class :character Class :character Class :character ## Median : NA Mode :character Mode :character Mode :character ## Mean :NaN ## 3rd Qu.: NA ## Max. : NA ## NA&#39;s :450752 ## spGroup tagProj proj lat ## Length:450752 Length:450752 Length:450752 Min. :44.54 ## Class :character Class :character Class :character 1st Qu.:44.54 ## Mode :character Mode :character Mode :character Median :44.56 ## Mean :44.56 ## 3rd Qu.:44.56 ## Max. :44.56 ## NA&#39;s :220519 ## lon alt ## Min. :-67.81 Min. :-0.10 ## 1st Qu.:-67.81 1st Qu.:13.30 ## Median :-67.81 Median :16.00 ## Mean :-67.78 Mean :15.86 ## 3rd Qu.:-67.75 3rd Qu.:17.80 ## Max. :-67.75 Max. :37.20 ## NA&#39;s :220519 NA&#39;s :220519 str(df.flat) ## Look at the structure of your data fields ## &#39;data.frame&#39;: 450752 obs. of 58 variables: ## $ hitID : int 111271 111272 111273 111274 111275 111276 111277 111278 111279 111280 ... ## $ runID : int 9939 9939 9939 9939 9939 9939 9939 9939 9939 9939 ... ## $ batchID : int 6 6 6 6 6 6 6 6 6 6 ... ## $ ts : num 1.38e+09 1.38e+09 1.38e+09 1.38e+09 1.38e+09 ... ## $ sig : num -77.2 -73.2 -73.3 -71.7 -71.2 ... ## $ sigsd : num 13.81 37.11 5.95 33.05 13.23 ... ## $ noise : num -86.3 -86.4 -86.6 -86.5 -86.5 ... ## $ freq : num 4.5 4.5 4.51 4.5 4.5 ... ## $ freqsd : num 0.0155 0.0045 0.005 0.0053 0.0081 0.006 0.007 0.0132 0.0075 0.0118 ... ## $ slop : num 0.0012 0.0014 0.0012 0.0016 0.0013 0.0013 0.0014 0.0014 0.0014 0.0014 ... ## $ burstSlop : num 0 0.0003 0.0011 0.0003 0.0011 0.0002 0.0009 0.0002 0.0012 0.0002 ... ## $ done : int 1 1 1 1 1 1 1 1 1 1 ... ## $ motusTagID : int 17367 17367 17367 17367 17367 17367 17367 17367 17367 17367 ... ## $ ant : int 2 2 2 2 2 2 2 2 2 2 ... ## $ runLen : int 11 11 11 11 11 11 11 11 11 11 ... ## $ bootnum : int 24 24 24 24 24 24 24 24 24 24 ... ## $ tagProjID : int 8 8 8 8 8 8 8 8 8 8 ... ## $ id : chr &quot;60&quot; &quot;60&quot; &quot;60&quot; &quot;60&quot; ... ## $ tagType : chr &quot;ID&quot; &quot;ID&quot; &quot;ID&quot; &quot;ID&quot; ... ## $ codeSet : chr &quot;Lotek3&quot; &quot;Lotek3&quot; &quot;Lotek3&quot; &quot;Lotek3&quot; ... ## $ mfg : chr &quot;Lotek&quot; &quot;Lotek&quot; &quot;Lotek&quot; &quot;Lotek&quot; ... ## $ tagModel : chr &quot;NTQB-2&quot; &quot;NTQB-2&quot; &quot;NTQB-2&quot; &quot;NTQB-2&quot; ... ## $ tagLifespan : int NA NA NA NA NA NA NA NA NA NA ... ## $ nomFreq : num 166 166 166 166 166 ... ## $ tagBI : num 5.9 5.9 5.9 5.9 5.9 ... ## $ pulseLen : num 2.5 2.5 2.5 2.5 2.5 2.5 2.5 2.5 2.5 2.5 ... ## $ speciesID : int 4690 4690 4690 4690 4690 4690 4690 4690 4690 4690 ... ## $ markerNumber : chr &quot;131153432&quot; &quot;131153432&quot; &quot;131153432&quot; &quot;131153432&quot; ... ## $ markerType : chr &quot;metal band&quot; &quot;metal band&quot; &quot;metal band&quot; &quot;metal band&quot; ... ## $ depLat : num 44.6 44.6 44.6 44.6 44.6 ... ## $ depLon : num -67.8 -67.8 -67.8 -67.8 -67.8 ... ## $ depAlt : num NA NA NA NA NA NA NA NA NA NA ... ## $ comments : chr &quot;{\\&quot;ageID\\&quot;:\\&quot;AHY\\&quot;,\\&quot;bill\\&quot;:19.2,\\&quot;blood\\&quot;:\\&quot;N\\&quot;,\\&quot;country\\&quot;:\\&quot;US\\&quot;,\\&quot;culmen\\&quot;:19.2,\\&quot;locationID\\&quot;:\\&quot;MILL RIVER&quot;| __truncated__ &quot;{\\&quot;ageID\\&quot;:\\&quot;AHY\\&quot;,\\&quot;bill\\&quot;:19.2,\\&quot;blood\\&quot;:\\&quot;N\\&quot;,\\&quot;country\\&quot;:\\&quot;US\\&quot;,\\&quot;culmen\\&quot;:19.2,\\&quot;locationID\\&quot;:\\&quot;MILL RIVER&quot;| __truncated__ &quot;{\\&quot;ageID\\&quot;:\\&quot;AHY\\&quot;,\\&quot;bill\\&quot;:19.2,\\&quot;blood\\&quot;:\\&quot;N\\&quot;,\\&quot;country\\&quot;:\\&quot;US\\&quot;,\\&quot;culmen\\&quot;:19.2,\\&quot;locationID\\&quot;:\\&quot;MILL RIVER&quot;| __truncated__ &quot;{\\&quot;ageID\\&quot;:\\&quot;AHY\\&quot;,\\&quot;bill\\&quot;:19.2,\\&quot;blood\\&quot;:\\&quot;N\\&quot;,\\&quot;country\\&quot;:\\&quot;US\\&quot;,\\&quot;culmen\\&quot;:19.2,\\&quot;locationID\\&quot;:\\&quot;MILL RIVER&quot;| __truncated__ ... ## $ startCode : int NA NA NA NA NA NA NA NA NA NA ... ## $ endCode : int NA NA NA NA NA NA NA NA NA NA ... ## $ fullID : chr &quot;?proj?-8#60:5.9&quot; &quot;?proj?-8#60:5.9&quot; &quot;?proj?-8#60:5.9&quot; &quot;?proj?-8#60:5.9&quot; ... ## $ recv : chr &quot;SG-1013BB000626&quot; &quot;SG-1013BB000626&quot; &quot;SG-1013BB000626&quot; &quot;SG-1013BB000626&quot; ... ## $ site : chr &quot;SECO&quot; &quot;SECO&quot; &quot;SECO&quot; &quot;SECO&quot; ... ## $ isMobile : int 0 0 0 0 0 0 0 0 0 0 ... ## $ projID : int 8 8 8 8 8 8 8 8 8 8 ... ## $ antType : chr NA NA NA NA ... ## $ antBearing : num NA NA NA NA NA NA NA NA NA NA ... ## $ antHeight : num NA NA NA NA NA NA NA NA NA NA ... ## $ cableLen : num NA NA NA NA NA NA NA NA NA NA ... ## $ cableType : chr NA NA NA NA ... ## $ mountDistance: num NA NA NA NA NA NA NA NA NA NA ... ## $ mountBearing : num NA NA NA NA NA NA NA NA NA NA ... ## $ polarization1: num NA NA NA NA NA NA NA NA NA NA ... ## $ polarization2: num NA NA NA NA NA NA NA NA NA NA ... ## $ spEN : chr &quot;Semipalmated Sandpiper&quot; &quot;Semipalmated Sandpiper&quot; &quot;Semipalmated Sandpiper&quot; &quot;Semipalmated Sandpiper&quot; ... ## $ spFR : chr &quot;BÃ©casseau semipalmÃ©&quot; &quot;BÃ©casseau semipalmÃ©&quot; &quot;BÃ©casseau semipalmÃ©&quot; &quot;BÃ©casseau semipalmÃ©&quot; ... ## $ spSci : chr &quot;Calidris pusilla&quot; &quot;Calidris pusilla&quot; &quot;Calidris pusilla&quot; &quot;Calidris pusilla&quot; ... ## $ spGroup : chr &quot;BIRDS&quot; &quot;BIRDS&quot; &quot;BIRDS&quot; &quot;BIRDS&quot; ... ## $ tagProj : chr &quot;HolbSESA&quot; &quot;HolbSESA&quot; &quot;HolbSESA&quot; &quot;HolbSESA&quot; ... ## $ proj : chr &quot;HolbSESA&quot; &quot;HolbSESA&quot; &quot;HolbSESA&quot; &quot;HolbSESA&quot; ... ## $ lat : num NA NA NA NA NA NA NA NA NA NA ... ## $ lon : num NA NA NA NA NA NA NA NA NA NA ... ## $ alt : num NA NA NA NA NA NA NA NA NA NA ... names(df.flat) ## field names ## [1] &quot;hitID&quot; &quot;runID&quot; &quot;batchID&quot; &quot;ts&quot; ## [5] &quot;sig&quot; &quot;sigsd&quot; &quot;noise&quot; &quot;freq&quot; ## [9] &quot;freqsd&quot; &quot;slop&quot; &quot;burstSlop&quot; &quot;done&quot; ## [13] &quot;motusTagID&quot; &quot;ant&quot; &quot;runLen&quot; &quot;bootnum&quot; ## [17] &quot;tagProjID&quot; &quot;id&quot; &quot;tagType&quot; &quot;codeSet&quot; ## [21] &quot;mfg&quot; &quot;tagModel&quot; &quot;tagLifespan&quot; &quot;nomFreq&quot; ## [25] &quot;tagBI&quot; &quot;pulseLen&quot; &quot;speciesID&quot; &quot;markerNumber&quot; ## [29] &quot;markerType&quot; &quot;depLat&quot; &quot;depLon&quot; &quot;depAlt&quot; ## [33] &quot;comments&quot; &quot;startCode&quot; &quot;endCode&quot; &quot;fullID&quot; ## [37] &quot;recv&quot; &quot;site&quot; &quot;isMobile&quot; &quot;projID&quot; ## [41] &quot;antType&quot; &quot;antBearing&quot; &quot;antHeight&quot; &quot;cableLen&quot; ## [45] &quot;cableType&quot; &quot;mountDistance&quot; &quot;mountBearing&quot; &quot;polarization1&quot; ## [49] &quot;polarization2&quot; &quot;spEN&quot; &quot;spFR&quot; &quot;spSci&quot; ## [53] &quot;spGroup&quot; &quot;tagProj&quot; &quot;proj&quot; &quot;lat&quot; ## [57] &quot;lon&quot; &quot;alt&quot; If you want to load only part of your entire data frame (eg. certain fields, only certain tags, all tags from a specified project, species, etc.), you can use dplyr funtions to filter the data before collecting into a flat dataframe. Some examples are below: To select certain fields; df.flat.subset &lt;- select(df, recv, ant, motusTagID) %&gt;% distinct %&gt;% collect %&gt;% as.data.frame ## to grab a subset of fields, in this case a unique list of motus tag IDs at each receiver and antenna. To select certain tag IDs; df.flat.subset &lt;- filter(df, motusTagID %in% c(9939, 25643)) %&gt;% collect %&gt;% as.data.frame ## filter to only include detections of motus tag IDs 9939 and 25643 To select a specified species; df.flat.subset &lt;- filter(df, speciesID == 15580) %&gt;% collect %&gt;% as.data.frame ## filter to only include detections of Swainson&#39;s Thrush by species ID df.flat.subset &lt;- filter(df, spEN == &quot;Swainson&#39;s Thrush&quot;) %&gt;% collect %&gt;% as.data.frame ## filter to only include detections of Swainson&#39;s Thrush by English name You can also summarize your data before converting to a flat file. For example, to find the first hourly detection of each tag in each hour by receiver and antenna, you could do this: hourly &lt;- df %&gt;% mutate (hour = 3600 * round(ts / 3600, 0)) %&gt;% distinct (recv, ant, motusTagID, hour) ## and collect these into a data.frame hh &lt;- hourly %&gt;% collect %&gt;% as.data.frame 3.4.2 Export a “flat” dataframe and save as a .csv on your computer The below example is how you would save the flat file called “df.flat” within R, as a .csv file called “motus_detecitons.csv” on your computer in the ‘data’ folder of your working directory. write.csv(df.flat, &quot;./data/motus_detections.csv&quot;) ## &quot;df.flat&quot;&quot; is the name of the flat file within R that you want to convert to a .csv ## &quot;C:/data/&quot; is the the location where you would like your .csv stored ## &quot;motus_detections.csv&quot;, is the name of the .csv file you are creating, this can be anything you like but must end with .csv. "],
["data-checking-metadata.html", "4 Data Checking: Metadata 4.1 Searching for false positives", " 4 Data Checking: Metadata Data quality for your projects and the projects of others depends on complete and accurate tag and receiver metadata. Complete metadata will allow detections to be properly linked to your project, and allow other users to benefit fully from data collected by the Motus network of receivers. Once you have imported your data using R, it is therefore good practice to run data summaries to check for missing or incorrect tag and receiver deployment metadata. As you run through the following code to check your metadata, please fix metadata errors or omissions in your project by signing in to www.motus.org, and under the ‘Manage Data’ tab, select either ‘Manage Tags’ to fix tag deployment metadata or ‘Manage Receivers’ to fix receiver deployment metadata. It is important to fix metadata errors online, so that errors are fixed at the source, are archived on the Motus Server, and to ensure all users have access to the appropriate tag or receiver metadata. Missing or incorrect tag metadata can result in a lack of tag detections in your data. For example, if deployment date is missing or wrong, the tag finder, which processes the data from each receiver in the network, might not look for your tag in the data, or might not look at the appropriate time when the tag is actually active. This will result in missing tags in your detections data. Missing or incorrect receiver metadata can result in a loss of information for both your project and the projects of other Motus users. For example, missing deployment latitude and longitude can result in a loss of information on the location of a receiver. Particularly when the same receiver is moved from one location to another, it is important your metadata reflect this, so that you and other users can properly analyze your/their data. Missing antenna deployments, including port number, height and orientation, can also limit what users can do with their data. For example, departure orientation cannot be estimated without the properties (latitude, longitude, orientation, height, antenna type) of the antenna(s) with detections. 4.0.1 Tag Metadata Only tags registered with Motus (https://motus.org/tag-registration/) prior to deployment will appear in detections data. To view a full list of registered tags in your tag metadata: ***** might want to have a list of registered tags from metadata vs. list of tags in data If previously registered tags are missing from your data, please contact motus@birdscanada.org Required tag metadata includes deployment start date/time, end date/time if applicable, deployment latitude, deployment longitude, and species. You can determine which of your tags are missing this metadata as follows: INSERT CODE Please update missing tag metadata online at &lt;www.motus.org&gt; by logging in to your project and selecting the ‘Manage your tags’ option. 4.0.2 Receiver Metadata To obtain detection data from a receiver, it must be registered online to your project by it’s serial number. Receiver deployments are then required to link the appropriate metadata to each detection. To determine a list of receivers registered to your project: INSERT CODE If you are missing any receivers, please register them online through your project management page Each receiver requires a deployment which includes a deployment name, site, station type, deployment start/end dates/times, latitude, longitude, and antenna properties including port number, antenna type, and bearing. To view a full list of your current deployments: INSERT CODE To view which current deployments are missing required information: INSERT CODE Any missing receiver metadata needs to be updated online. If you have updated any metadata online, you’ll need to force an update on the data you have downloaded, it’s good practice to check for updates prior to any analysis as other users may have updated metadata associated with your detection files: t &lt;- tagme(projRecv = 123, forceMeta = TRUE) 4.1 Searching for false positives You may need to check it for false positives, particularely at sites with high levels of background noise, below we outline a number of ways to determine if detections are likely false positives. NOT DONE "],
["cleaning-data-to-remove-false-detections.html", "5 Cleaning data to remove false detections 5.1 Removing detections outside of deployment range 5.2 Removing detections based on visual geographic positions 5.3 Removing detections based on estimated flight speed 5.4 Removing detections based on automated filtering", " 5 Cleaning data to remove false detections Background radio noise will sometimes create false positives in your detection data, some sites will inherently have more background noise than others, and some tag IDs are more prone to false positives than others. Once you download your data, the first step should be cleaning it of false detections. There are a few ways to do this, ultimately it is up to you to determine which detections are true and which should be removed. Below we outline a number of ways to determine if detections are likely false positives. 5.1 Removing detections outside of deployment range A first step to removing definite false positives, is to remove any detections that fall outside of the tag deployment dates. To do this we will need to import the tagging metadata and merge it with the tag detection files to see tag deployment start/end dates. Download tag deployment metadata: from the download page https://motus.org/data/downloads, select your project from the dropdown menu and click “Tag Deployments” to get a tag-deployments.csv file. Alternatively, you can download the same deployments file from your project tag page. Import tag deployment metadata into R tagMeta &lt;- read.csv(&quot;C:/data/tag-deployments.csv&quot;) ## replace the location with the file path where you saved the .csv file. Join tag metadata and detection data: Join the tagMeta database to your detection data, here we only include the start/end date columns from the tagMeta database, however you can choose to keep all columns if necessary. Remove detections that fall outside tag deployment dates 5.2 Removing detections based on visual geographic positions A few simple plots of latitude/longitude vs. time can highlight detections that occur in areas outside of the expected geographic range of the species for that date, or flights showing impossible speeds over large distances. Once you identify detections you would like to remove, you can filter out those points based on hitID 5.3 Removing detections based on estimated flight speed By looking at the rate of movement between sites with consicutive detections, we can quickly view flights that are not physically possible. Further examination of these detections will be required to determine which detections are true and which are false. 5.4 Removing detections based on automated filtering You can also remove spurious detections through some simple automated filters if you do not wish to examine each tag individually. But note that by applying a general filter to all your detections, you risk removing true detections as well. Detections can be filtered by freqSD or by runLen. FreqSD refers to the standard deviation of frequency offset among bulses in a burst, in kHz. Values larger than 0.1 kHz suggest a bogus detection, however this is for detections on SensorGnomes only. runLen is the number of tag bursts in the current run, a run is defined as a group of consecutive detections of a tag detected on a receiver. "],
["exploring-data-with-the-motus-r-package.html", "6 Exploring data with the Motus R package 6.1 Summarizing your data 6.2 Plotting your data", " 6 Exploring data with the Motus R package There are a number of functions within the Motus package that will allow you to quickly explore your data. This section provides examples of how you can use these functions through summaries and visualizations. 6.1 Summarizing your data 6.2 Plotting your data "]
]
